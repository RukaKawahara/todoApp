<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>todoListApp</title>
  <!-- 1. CSSファイルを読み込み -->
  <link href="./src/style.css" rel="stylesheet" />
</head>
<body>
  <div class="todoapp">
    <!-- 3. id属性をJavaScriptのために指定 -->
    <form id="js-form" action="/add" method="post">
      <input
        id="js-form-input"
        class="new-todo"
        type="text"
        placeholder="What need to be done?"
        autocomplete="off"
        name = "text"
        required
      />
    </form>
    <!-- 4. TodoアプリのメインとなるTodoリスト -->
    <div id="js-todo-list" class="todo-list">
      <!-- 動的に更新されるTodoリスト -->
      <ul id= "js-todo-list-ul" class="todo-list-ul">
        <% todos.forEach((todo) => { %>
        <li class="todo-list-li" data-id='<%= todo.id %>'>
          <label class="todo-list-label" for='<%= todo.id %>'>
            <!-- <form action="/update/<%= todo.id %>" method="post" class="myForm" id='<%= todo.id %>'> -->
              <input type="checkbox" data-id='<%= todo.id %>' class="todo-list-checkbox js-todo-list-checkbox" name="checked" <%= todo.checked === true ? 'checked' : '' %>>
            <!-- </form> -->
            <%= todo.text %>
          </label>
          <form action="/delete/<%= todo.id %>" method="post">
            <button class="todo-delete-button" type="submit" data-id='<%= todo.id %>'>削除</button>
          </form>
        </li>
        <% }) %>
      </ul>
    </div>
    <footer class="footer">
      <!-- 5. Todoアイテム数の表示 -->
      <span id="js-todo-count">Todoアイテム数: <span id= "js-todo-length" class="js-todo-length"><%= todos.length %></span></span>
      <br/>
    </footer>
  </div>
  <script src="/src/App.js"></script>
</body>
</html>
  </script>
</body>
</html>